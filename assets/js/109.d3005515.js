(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{453:function(t,a,r){"use strict";r.r(a);var n=r(10),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"http-中如何处理表单数据的提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-中如何处理表单数据的提交"}},[t._v("#")]),t._v(" HTTP 中如何处理表单数据的提交？")]),t._v(" "),a("p",[t._v("在 http 中，有两种主要的表单提交的方式，体现在两种不同的Content-Type取值:")]),t._v(" "),a("ul",[a("li",[t._v("application/x-www-form-urlencoded")]),t._v(" "),a("li",[t._v("multipart/form-data")])]),t._v(" "),a("p",[t._v("由于表单提交一般是POST请求，很少考虑GET，因此这里我们将默认提交的数据放在请求体中。")]),t._v(" "),a("h2",{attrs:{id:"application-x-www-form-urlencoded"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#application-x-www-form-urlencoded"}},[t._v("#")]),t._v(" application/x-www-form-urlencoded")]),t._v(" "),a("p",[t._v("对于application/x-www-form-urlencoded格式的表单内容，有以下特点:")]),t._v(" "),a("p",[t._v("其中的数据会被编码成以&分隔的键值对\n字符以URL编码方式编码。")]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 转换过程: {a: 1, b: 2} -> a=1&b=2 -> 如下(最终形式)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a%3D1%26b%3D2"')]),t._v("\n")])])]),a("h2",{attrs:{id:"multipart-form-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#multipart-form-data"}},[t._v("#")]),t._v(" multipart/form-data")]),t._v(" "),a("p",[t._v("对于multipart/form-data而言:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("请求头中的Content-Type字段会包含boundary，且boundary的值有浏览器默认指定。例: Content-Type: multipart/form-data;boundary=----WebkitFormBoundaryRRJKeWfHPGrS4LKe。")])]),t._v(" "),a("li",[a("p",[t._v("数据会分为多个部分，每两个部分之间通过分隔符来分隔，每部分表述均有 HTTP 头部描述子包体，如Content-Type，在最后的分隔符会加上--表示结束。\n相应的请求体是下面这样:")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('Content-Disposition: form-data;name="data1";\nContent-Type: text/plain\ndata1\n----WebkitFormBoundaryRRJKeWfHPGrS4LKe\nContent-Disposition: form-data;name="data2";\nContent-Type: text/plain\ndata2\n----WebkitFormBoundaryRRJKeWfHPGrS4LKe--\n')])])]),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("值得一提的是，multipart/form-data 格式最大的特点在于:每一个表单元素都是独立的资源表述。另外，你可能在写业务的过程中，并没有注意到其中还有boundary的存在，如果你打开抓包工具，确实可以看到不同的表单元素被拆分开了，之所以在平时感觉不到，是以为浏览器和 HTTP 给你封装了这一系列操作。")]),t._v(" "),a("p",[t._v("而且，在实际的场景中，对于图片等文件的上传，基本采用multipart/form-data而不用application/x-www-form-urlencoded，因为没有必要做 URL 编码，带来巨大耗时的同时也占用了更多的空间。")])])}),[],!1,null,null,null);a.default=e.exports}}]);